# Cloudflare Pages configuration
name = "bhavanai"
compatibility_date = "2024-12-01"

# Pages configuration
pages_build_output_dir = "out"

# D1 Database binding for user authentication and property management
[[d1_databases]]
binding = "DB"
database_name = "bhavan-db"
database_id = "6ec7754a-ec37-425e-adea-73ea0650127f"

# R2 bucket binding for property images
# Using production bucket for both development and production
# This ensures images are accessible via public URL
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "bhavan-images"
preview_bucket_name = "bhavan-images"  # Use production bucket in dev mode too

# Environment variables
[vars]
# R2 public URL for serving images
R2_PUBLIC_URL = "https://pub-28f9edbaef9f4402a511120118772391.r2.dev"

# Email service configuration
EMAIL_PROVIDER = "resend"
EMAIL_FROM_ADDRESS = "noreply@bhavan.ai"
EMAIL_FROM_NAME = "Bhavan.ai"

# IMPORTANT: Add EMAIL_API_KEY via Cloudflare Dashboard or wrangler secret
# Dashboard: Workers & Pages → Your Project → Settings → Environment Variables
# CLI: wrangler secret put EMAIL_API_KEY --env production

# Routes - Update with your actual domain
# Uncomment these lines and replace with your domain:
# routes = [
#   { pattern = "yourdomain.com/*", zone_name = "yourdomain.com" },
#   { pattern = "www.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]
