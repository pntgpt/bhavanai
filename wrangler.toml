# Cloudflare Worker configuration for R2 static site hosting
name = "bhavan-website-worker"
main = "cloudflare-worker.js"
compatibility_date = "2024-12-01"

# Pages configuration
pages_build_output_dir = "out"

# D1 Database binding for user authentication and property management
[[d1_databases]]
binding = "DB"
database_name = "bhavan-db"
database_id = "6ec7754a-ec37-425e-adea-73ea0650127f"

# R2 bucket binding for static site hosting
[[r2_buckets]]
binding = "MY_BUCKET"
bucket_name = "bhavan-website"

# R2 bucket binding for property images
# Using production bucket for both development and production
# This ensures images are accessible via public URL
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "bhavan-images"
preview_bucket_name = "bhavan-images"  # Use production bucket in dev mode too

# Environment variables
[vars]
# R2 public URL for serving images
R2_PUBLIC_URL = "https://pub-28f9edbaef9f4402a511120118772391.r2.dev"

# Routes - Update with your actual domain
# Uncomment these lines and replace with your domain:
# routes = [
#   { pattern = "yourdomain.com/*", zone_name = "yourdomain.com" },
#   { pattern = "www.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]
